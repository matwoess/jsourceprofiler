
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="jsourceprofiler is a command-line profiler for Java programs using source code instrumentation.
The single JAR-file utility generates HTML reports enabling hotspot analysis and providing coverage with line counts. 
It features an optional JavaFX tool-runner GUI.
">
      
      
      
      
        <link rel="prev" href="../getting-started/">
      
      
        <link rel="next" href="../fxui/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>Usage - jsourceprofiler Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#usage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="jsourceprofiler Docs" class="md-header__button md-logo" aria-label="jsourceprofiler Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            jsourceprofiler Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Usage
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 2C5.13 2 2 5.13 2 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.87-3.13-7-7-7M6 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H6zm13-8h-2l-3.2 9h1.9l.7-2h3.2l.7 2h1.9zm-2.15 5.65L18 15l1.15 3.65z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 6a6 6 0 0 1 6 6c0 2.22-1.21 4.16-3 5.2V19a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-1.8c-1.79-1.04-3-2.98-3-5.2a6 6 0 0 1 6-6m2 15v1a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-1zm6-10h3v2h-3zM1 11h3v2H1zM13 1v3h-2V1zM4.92 3.5l2.13 2.14-1.42 1.41L3.5 4.93zm12.03 2.13 2.12-2.13 1.43 1.43-2.13 2.12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="yellow"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/matwoess/jsourceprofiler" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    matwoess/jsourceprofiler
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="jsourceprofiler Docs" class="md-nav__button md-logo" aria-label="jsourceprofiler Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    jsourceprofiler Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/matwoess/jsourceprofiler" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    matwoess/jsourceprofiler
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Usage
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#shell-script" class="md-nav__link">
    <span class="md-ellipsis">
      Shell script
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-options" class="md-nav__link">
    <span class="md-ellipsis">
      Command line options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command line options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-sources-directory" class="md-nav__link">
    <span class="md-ellipsis">
      --sources-directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-synchronized" class="md-nav__link">
    <span class="md-ellipsis">
      --synchronized
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-verbose" class="md-nav__link">
    <span class="md-ellipsis">
      --verbose
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-modes" class="md-nav__link">
    <span class="md-ellipsis">
      Run modes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run modes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-instrument-only" class="md-nav__link">
    <span class="md-ellipsis">
      --instrument-only
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-generate-report" class="md-nav__link">
    <span class="md-ellipsis">
      --generate-report
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sample-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Sample usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sample usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-file-projects" class="md-nav__link">
    <span class="md-ellipsis">
      Single file projects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-file-projects" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-file projects
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiler-tool-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Profiler tool workflow
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../fxui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JavaFX UI
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../report/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Report
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../implementation-details/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Implementation Details
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtime-impact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Runtime Impact
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../limitations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Limitations
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dependencies
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#shell-script" class="md-nav__link">
    <span class="md-ellipsis">
      Shell script
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-options" class="md-nav__link">
    <span class="md-ellipsis">
      Command line options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command line options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-sources-directory" class="md-nav__link">
    <span class="md-ellipsis">
      --sources-directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-synchronized" class="md-nav__link">
    <span class="md-ellipsis">
      --synchronized
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-verbose" class="md-nav__link">
    <span class="md-ellipsis">
      --verbose
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-modes" class="md-nav__link">
    <span class="md-ellipsis">
      Run modes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run modes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-instrument-only" class="md-nav__link">
    <span class="md-ellipsis">
      --instrument-only
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-generate-report" class="md-nav__link">
    <span class="md-ellipsis">
      --generate-report
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sample-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Sample usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sample usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-file-projects" class="md-nav__link">
    <span class="md-ellipsis">
      Single file projects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-file-projects" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-file projects
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiler-tool-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Profiler tool workflow
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="usage">Usage</h1>
<p>The tool defines the following command line interface:</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>Usage: profiler [options] &lt;main file&gt; [program args]  
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>Or   : profiler [options] &lt;run mode&gt;
</span></code></pre></div>
The <code>java</code> and <code>javac</code> JDK binaries have to be included in the system environment path for the tool to function correctly.
The absolute file system location of the executables is not determined automatically. 
They are invoked with their respective names in a sub-process.</p>
<p>All tool output is stored inside the hidden <code>.profiler</code> subdirectory of the current working directory. 
It is created automatically if it does not exist.</p>
<p>For being able to use local project resources and relative paths (as arguments or inside the program itself)
the tool never changes its working directory during execution. Instead, the classpath is set to the instrumented copies
inside the <code>.profiler</code> directory.
It is therefore recommended to run the command line tool in the project's root directory.</p>
<p>In the simplest case the tool can be invoked with a single Main file as its target.
<br/>
If the program-to-profile consists of multiple class source files the <code>--sources-directory</code> (<code>-d</code>) parameter is <strong>required</strong>!
Setting this parameter instructs the tool to parse all Java files in the given directory and its subdirectories.</p>
<h2 id="shell-script">Shell script</h2>
<p>For frequent use, it is recommended to create a shell script or batch file that contains the necessary commands.
<div class="language-shell highlight"><span class="filename">~/bin/profile</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="ch">#!/usr/bin/env bash</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>java<span class="w"> </span>-jar<span class="w"> </span>~/.local/lib/profiler-0.11.2.jar<span class="w"> </span><span class="nv">$@</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1"># java -&gt; /usr/lib/jvm/java-21-openjdk/bin/java</span>
</span></code></pre></div></p>
<p>This script can then be placed in a directory that is included in the system's PATH variable.
It allows the tool to be called from any location in the terminal by its file name (e.g. <code>profile</code>).</p>
<p>(In the rest of this file the <code>java -jar profiler.jar</code> command is substituted by <code>profile</code>)</p>
<h2 id="command-line-options">Command line options</h2>
<p>There are a few optional arguments available. For a full list, see the <code>-h</code> or <code>--help</code> arguments.</p>
<h3 id="-sources-directory"><code>--sources-directory</code></h3>
<p>If the project-to-profile consists of two or more (linked) Java files, the sources directory has to be specified.
This is done with the <code>-d</code> or <code>--sources-directory</code> option:
<div class="language-shell highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>profile<span class="w"> </span>-d<span class="w"> </span>src/main/java/<span class="w"> </span>src/main/java/subfolder/Main.java
</span></code></pre></div></p>
<p>Using this option, all <code>.java</code> files inside <code>src/main/java/</code> will be parsed, instrumented and copied to the
<code>.profiler/instrumented</code> directory. The relative folder-structure is replicated to ensure successful compilation 
(<code>javac</code> will throw an error if the package name and file paths mismatch).</p>
<h3 id="-synchronized"><code>--synchronized</code></h3>
<p>When adding <code>-s</code> or <code>--synchronized</code> as a option, all inserted counters will be incremented atomically.
This might be useful for multi-threaded programs, where a few methods or blocks are constantly executed in parallel.
It will ensure that hit counts are correct, but runtime performance will be impacted.</p>
<h3 id="-verbose"><code>--verbose</code></h3>
<p>This option is mainly for debugging purposes. It can be activated with <code>-v</code> or <code>--verbose</code> and will output
detailed information about the parsing process for each file.</p>
<h2 id="run-modes">Run modes</h2>
<p>The tool is primarily designed for easy usage with small projects that have a Main file.
In case the project cannot be compiled with <code>javac Main.java</code>, or uses build tools (like Maven, Gradle, or Ant),
we cannot use the default compilation logic.</p>
<p>For this case, two additional run modes are available:</p>
<h3 id="-instrument-only"><code>--instrument-only</code></h3>
<p>By specifying the <code>-i &lt;file|dir&gt;</code> or <code>--instrument-only &lt;file|dir&gt;</code> mode the target file (or directory
with all its Java files) will be instrumented and written to the <code>.profiler/instrumented/</code> directory.
The <code>metadata.dat</code> file will also be generated.
The instrumented code can then be compiled by <em>custom</em> commands and run manually.</p>
<h3 id="-generate-report"><code>--generate-report</code></h3>
<p>If a project was already instrumented and run, the HTML report can be quickly (re-)generated
with the <code>-r</code> or <code>--generate-report</code> run mode.
In this mode, no parsing or instrumentation will be done.
For it to succeed the <code>metadata.dat</code> and <code>counts.dat</code> files must already exist in the <code>.profiler</code> output directory.</p>
<h2 id="sample-usage">Sample usage</h2>
<h3 id="single-file-projects">Single file projects</h3>
<p>If the entire program-to-profile is contained in a <em>single</em> Java source file, the tool can be used as following:
<div class="language-shell highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>profile<span class="w"> </span>Main.java<span class="w"> </span>arg1<span class="w"> </span>arg2<span class="w"> </span>...
</span></code></pre></div>
This will parse, instrument and compile the given file, execute the program with the given arguments, and create a report.</p>
<h3 id="multi-file-projects">Multi-file projects</h3>
<p>If the program consists of multiple Java files, the sources directory has to be specified:</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>profile<span class="w"> </span>-d<span class="w"> </span>src/<span class="w"> </span>src/Main.java<span class="w"> </span>arg1<span class="w"> </span>arg2<span class="w"> </span>...
</span></code></pre></div>
<p>This will parse all <code>*.java</code> files in the sources directory and create an instrumented copy.
The first positional parameter to the tool specifies the class containing the main entry point. 
Its instrumented copy will be used to run the program.</p>
<h2 id="profiler-tool-workflow">Profiler tool workflow</h2>
<p>After parsing all files the <code>.profiler/metadata.dat</code> file will be created, containing information about
every found code block like its begin/end position, its parent method/class and other relevant data to create a report.</p>
<p>The tool will then automatically compile the instrumented version using the <code>javac</code> compiler.
<div class="language-shell highlight"><span class="filename">(the tool executes this command internally)</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>javac<span class="w"> </span>-cp<span class="w"> </span>.profiler/instrumented<span class="w"> </span>-d<span class="w"> </span>.profiler/classes<span class="w"> </span>Main.java
</span></code></pre></div>
(whereas <code>Main.java</code> is the specified main file)</p>
<p>The Java compiler finds referenced Java files (used in Main) itself and compile them also
into (instrumented) <code>.class</code> files. The compiled classes will be written to the <code>.profiler/classes/</code> directory.</p>
<p>Next, the <code>java</code> binary is used to execute the specified class by name (without the <code>.java</code> extension)
and with the given arguments:
<div class="language-shell highlight"><span class="filename">(the tool executes this command internally)</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>java<span class="w"> </span>-cp<span class="w"> </span>.profiler/classes<span class="w"> </span>Main<span class="w"> </span>arg1<span class="w"> </span>arg2<span class="w"> </span>...
</span></code></pre></div>
Executing the instrumented files, automatically stores the hit-counter values in <code>.profiler/counts.dat</code>
as soon as the program execution is finished and the JVM shuts down.</p>
<p>Finally, the metadata and counts will be used to create the report inside <code>.profiler/report/</code>.</p>
<p>A link to the report will be created in the current working directory, pointing to <code>.profiler/report/index.html</code>.
On Linux or macOS it will be a symbolic link, on Windows a <code>report.lnk</code> shortcut link.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../getting-started/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Getting Started">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Getting Started
              </div>
            </div>
          </a>
        
        
          
          <a href="../fxui/" class="md-footer__link md-footer__link--next" aria-label="Next: JavaFX UI">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                JavaFX UI
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.footer", "content.code.copy", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>